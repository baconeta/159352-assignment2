<div class="content-section">
    <div class="media">
        <div class="media-body">
            <h2 class="bookings-heading">Upcoming bookings</h2>
            {% if bookings == [] %}
                <p class="text-secondary"><a class="ml-2" href="{{ url_for('booking') }}">You have no upcoming bookings.
                    Click here to make one!</a></p>
            {% else %}
                <br>
                {# TODO make this way prettier #}
                {% for booking in bookings %}
                    <div class="content-section">
                        <form method="post" action="">
                            <h2>Booking reference {{ booking.booking_ref.upper() }}</h2>
                            {% for departure in departures %}
                                {% if departure.id == booking.flight %}
                                    <h3>Flight {{ departure.flight_number }}</h3>
                                    <h4>Departure time: {{ departure.depart_date }}</h4>
                                {% endif %}
                            {% endfor %}
                            <input type="hidden" name="booking" value={{ booking.booking_ref.upper() }}>
                            <input type="submit" value="View invoice" name="view" class="btn btn-outline-info">
                            <input type="submit" value="Cancel booking" name="cancel" class="btn btn-outline-info">

                            {# TODO Make significantly more information and pretty #}
                            {# TODO Add check for past bookings here #}
                            {# TODO Add arrival time and timezones #}
                            {# TODO Add stopovers #}
                        </form>

                    </div>
                {% endfor %}

            {% endif %}
        </div>
    </div>
</div>