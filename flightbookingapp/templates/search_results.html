{% extends "layout.html" %}
{% block content %}

    {% include 'search_flight_form.html' %}

    {% include 'date_cards.html' %}

    <br>

    <h2 class="account-heading"> Available flights </h2>
    <div class="content-section">
        <div class="media">
            <div class="media-body">
                {% if bookable != {} %}
                    {% for flight in bookable %}
                        <div class="content-section">
                            <form method="POST" action="">
                                <h3>Flight {{ flight.flight_number }}</h3>
                                <p>Depart from {{ bookable[flight].depart_airport }} on {{ flight.depart_date }}
                                    at {{ bookable[flight].depart_time }} local time.<br>
                                    Arrive at {{ bookable[flight].arrive_airport }} on {{ flight.arrival_date }}
                                    at {{ bookable[flight].arrive_time }} local time.</p>
                                {# TODO show price #}
                                <input type="hidden" name="departure" value={{ flight.id }}>
                                <input type="hidden" name="tickets" value={{ form.tickets.data }}>
                                <input value="Book this flight" type="submit" class="btn btn-outline-info" name="book">
                            </form>
                        </div>
                    {% endfor %}
                {% else %}
                    <h4>Nothing matches your search criteria.</h4>
                {% endif %}
            </div>
        </div>
    </div>
    {# TODO handle displaying any found flights including some way to choose next or previous days #}
{% endblock content %}